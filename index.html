<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetching</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
</head>

<body>
        <h3 class="text-center text-light bg-dark p-3">User Details</h3>
    <div class="container">
            <div id="result" class="row">
        </div>
    </div>
    </div>
</body>
<script>
    //Ajax API call
    //Step 1 : Create an XMLhttpRequest object]
    const request = new XMLHttpRequest()
    //Step 2 : Connect or API Call
    request.open('get', 'https://jsonplaceholder.typicode.com/users')
    //Step 3 : send
    request.send()
    //Step 4 : set onreadystatechange
    request.onreadystatechange = () => {
        if (request.readyState == 4) {
            if (request.status > 199 && request.status < 300) {
                console.log(request.responseText);
                let user_array = JSON.parse(request.responseText)
                console.log(user_array);
                displayArray(user_array)
            }
            else {
                alert("Failed to connect to jsonplaceholder")
            }
        }

    }
    //Step 5 : to display the array of data into html page
    function displayArray(user_array) {
        for (let user of user_array) {
            htmlData = `<div class="col-3 shadow-lg p-3 mb-5 bg-white rounded m-5" style="width: 21rem";>
            <div class="card border-0">
                        <div class="card-body">
                             <h3 class="text-danger text-center border-bottom ">User : ${user.id}</h3>
                            <h6 class="card-title p-2">ID : <span class="text-primary">${user.id}</span></h6>
                            <h6 class="card-title p-2">Name : <span class="text-primary">${user.name}</span></h6>
                            <h6 class="card-title p-2">Username : <span class="text-primary">${user.username}</span></h6>
                            <h6 class="card-title p-2">Email : <span class="text-primary">${user.email}</span></h6>
                            <h6 class="card-title p-2">Address : </h6>
                            <p class="card-title p-2">Street : <span class="text-primary">${user.address.street}</span></p>
                            <p class="card-title p-2">Suite : <span class="text-primary">${user.address.suite}</span></p>
                            <p class="card-title p-2">City : <span class="text-primary">${user.address.city}</span></p>
                            <p class="card-title p-2">Zipcode : <span class="text-primary">${user.address.zipcode}</span></p>
                            <h6 class="card-title p-2">Location : </h6>
                            <p class="card-title p-2">Latitude : <span class="text-primary">${user.address.geo.lat}</span></p>
                            <p class="card-title p-2">Longtitude : <span class="text-primary">${user.address.geo.lng}</span></p>
                            <h6 class="card-title p-2">Phone : <span class="text-primary">${user.phone}</span></h6>
                            <h6 class="card-title p-2">Website : <span class="text-primary">${user.website}</span></h6>
                            <h6 class="card-title p-2">Company : </h6>
                            <p class="card-title p-2">Name : <span class="text-primary">${user.company.name}</span></p>
                            <p class="card-title p-2">Catchphrase : <span class="text-primary">${user.company.catchPhrase}</span></p>
                            <p class="card-title p-2">BS : <span class="text-primary">${user.company.bs}</span></p>

                        </div>
                        </div>`
            result.innerHTML += htmlData
        }
    }

</script>

</html>